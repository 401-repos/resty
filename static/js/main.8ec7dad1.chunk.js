(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{31:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(23),i=n.n(r),c=n(2),o=n(3),h=n(7),d=n(5),l=n(4),j=(n(31),n(12)),u=n(0);var b=function(){return Object(u.jsxs)("header",{children:[Object(u.jsx)("h1",{children:"RESTy"}),Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/history",children:"History"})}),Object(u.jsx)("li",{children:Object(u.jsx)(j.b,{to:"/help",children:"Help"})})]})})]})};n(38);var p=function(e){return Object(u.jsx)("footer",{children:Object(u.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Code Fellows"]})})},O=n(20),m=n.n(O),x=n(25),y=(n(40),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).changeInput=function(e){s.props.setInput({url:e.target.value})},s.changeMethod=function(e){s.props.changeMethod({method:e.target.value})},s.changeText=s.changeText.bind(Object(h.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s}return Object(o.a)(n,[{key:"handleSubmit",value:function(){var e=Object(x.a)(m.a.mark((function e(t){var n,s,a,r,i,c,o=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.toggleLoading();case 3:if(n=t.target.method.value,s=t.target.url.value,a=t.target.body.value,s="/"===s[s.length-1]?s:s+"/",e.prev=7,"PUT"!==n&&"POST"!==n){e.next=14;break}return e.next=11,fetch(s,{method:n,headers:{"Content-Type":"application/json"},mode:"cors",body:a});case 11:e.t0=e.sent,e.next=17;break;case 14:return e.next=16,fetch(s,{method:n,mode:"cors"});case 16:e.t0=e.sent;case 17:return i=e.t0,e.next=20,i.clone().json();case 20:r=e.sent,setTimeout((function(){o.props.toggleLoading(),o.props.header(s,n,r,a)}),2e3),r&&(localStorage.getItem("headers")?(c=JSON.parse(localStorage.getItem("headers")),c.find((function(e){return e.url===s&&e.method===n&&e.body===a&&e.body===a}))||(c.push({url:s,method:n,body:a,response:r}),localStorage.setItem("headers",JSON.stringify(c)))):localStorage.setItem("headers",JSON.stringify([{url:s,method:n,response:r,body:a}]))),e.next=31;break;case 25:e.prev=25,e.t1=e.catch(7),console.log(e.t1.message),this.props.toggleLoading(),r={Error:e.t1.message},this.props.header(s,n,{data:r},{body:a});case 31:case"end":return e.stop()}}),e,this,[[7,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"changeText",value:function(e){this.props.setReqBody({reqBody:e.target.value})}},{key:"render",value:function(){return Object(u.jsx)("div",{id:"main",onSubmit:this.handleSubmit,children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("label",{htmlFor:"url",children:"URL:"}),Object(u.jsx)("input",{type:"text",placeholder:"Enter the endpoint URL",value:this.props.init.url?this.props.init.url:this.props.data.url,onChange:this.changeInput,name:"url",id:"url"}),Object(u.jsx)("button",{type:"submit",id:"goBtn",children:"Go!"})]}),Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("input",{type:"radio",value:"GET",name:"method",onChange:this.changeMethod,id:"GET",checked:this.props.init.method?"GET"===this.props.init.method:"GET"===this.props.data.method||!this.props.data.method}),Object(u.jsx)("label",{htmlFor:"GET",children:"GET"}),Object(u.jsx)("input",{type:"radio",value:"POST",name:"method",onChange:this.changeMethod,id:"POST",checked:this.props.init.method?"POST"===this.props.init.method:"POST"===this.props.data.method}),Object(u.jsx)("label",{htmlFor:"POST",children:"POST"}),Object(u.jsx)("input",{type:"radio",value:"PUT",name:"method",onChange:this.changeMethod,id:"PUT",checked:this.props.init.method?"PUT"===this.props.init.method:"PUT"===this.props.data.method}),Object(u.jsx)("label",{htmlFor:"PUT",children:"PUT"}),Object(u.jsx)("input",{type:"radio",value:"DELETE",name:"method",onChange:this.changeMethod,id:"DELETE",checked:this.props.init.method?"DELETE"===this.props.init.method:"DELETE"===this.props.data.method}),Object(u.jsx)("label",{htmlFor:"DELETE",children:"DELETE"}),Object(u.jsx)("label",{htmlFor:"body",children:"Body"}),Object(u.jsx)("textarea",{name:"body",id:"body",onChange:this.changeText,value:this.props.init.reqBody?this.props.init.reqBody:""})]})]})})}}]),n}(a.a.Component)),g=n(26),f=n.n(g),v=(n(41),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("section",{className:"output-sec",children:[Object(u.jsxs)("div",{id:"methodHeader",children:[Object(u.jsx)("span",{id:"methodName",children:this.props.data.method}),Object(u.jsx)("span",{id:"endpoint",children:this.props.data.url})]}),Object(u.jsx)("div",{id:"json",children:Object(u.jsx)(f.a,{src:this.props.data.response})})]})}}]),n}(a.a.Component)),k=(n(42),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"body",children:Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)("div",{className:"circle"}),Object(u.jsx)("div",{className:"circle"}),Object(u.jsx)("div",{className:"circle"}),Object(u.jsx)("div",{className:"shadow"}),Object(u.jsx)("div",{className:"shadow"}),Object(u.jsx)("div",{className:"shadow"}),Object(u.jsx)("span",{children:"Loading"})]})})}}]),n}(a.a.Component)),N=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return this.props.condition?Object(u.jsx)(u.Fragment,{children:this.props.children}):Object(u.jsx)("div",{})}}]),n}(a.a.Component),S=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return this.props.condition?Object(u.jsx)(u.Fragment,{children:null}):Object(u.jsx)(u.Fragment,{children:this.props.children})}}]),n}(a.a.Component),C=n(15),T=(n(43),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).handleCkick=s.handleCkick.bind(Object(h.a)(s)),s}return Object(o.a)(n,[{key:"handleCkick",value:function(e){var t=e.target.parentElement.childNodes;"li"===e.target.localName&&(t=e.target.childNodes);var n,s={url:"",method:""},a=Object(C.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;s[r.className]=r.textContent}}catch(i){a.e(i)}finally{a.f()}this.props.state(s)}},{key:"listItems",value:function(e){var t=this;return e.map((function(e,n){return Object(u.jsxs)("li",{onClick:t.handleCkick,children:[Object(u.jsx)("span",{className:"method",children:e.method}),Object(u.jsx)("span",{className:"url",children:e.url})]},n)}))}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("headers"));return e?Object(u.jsx)("div",{className:"history",children:Object(u.jsx)("ul",{children:this.listItems(e)})}):Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:Object(u.jsx)("li",{children:"No history"})})})}}]),n}(a.a.Component)),E=(n(44),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={method:"",url:"",response:{},loading:!0,reqBody:{}},s.toggleLoading=s.toggleLoading.bind(Object(h.a)(s)),s.headerHandle=s.headerHandle.bind(Object(h.a)(s)),s.setInfoHistory=s.setInfoHistory.bind(Object(h.a)(s)),s.setNewChanges=s.setNewChanges.bind(Object(h.a)(s)),s.setNewMethod=s.setNewMethod.bind(Object(h.a)(s)),s}return Object(o.a)(n,[{key:"headerHandle",value:function(e,t,n,s){this.setState({url:e,method:t,response:n,body:s})}},{key:"toggleLoading",value:function(){this.setState({loading:!this.state.loading})}},{key:"setInfoHistory",value:function(e){this.setState(e)}},{key:"setNewChanges",value:function(e){this.setState(e)}},{key:"setNewMethod",value:function(e){this.setState(e)}},{key:"render",value:function(){return Object(u.jsxs)("main",{children:[Object(u.jsx)(N,{condition:!this.state.loading,children:Object(u.jsx)(k,{})}),Object(u.jsxs)(S,{condition:!this.state.loading,children:[Object(u.jsx)(y,{init:this.props.redirectStates,setReqBody:this.props.setReqBody,header:this.headerHandle,changeMethod:this.setNewMethod,setInput:this.setNewChanges,toggleLoading:this.toggleLoading,data:this.state}),Object(u.jsxs)("div",{className:"hisRes",children:[Object(u.jsx)(T,{state:this.setInfoHistory}),Object(u.jsx)(N,{condition:this.state.url&&this.state.method,children:Object(u.jsx)(v,{data:this.state})})]})]})]})}}]),n}(a.a.Component)),w=n(21),I=(n(45),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("li",{className:this.props.data.method,onClick:this.props.handleCkick,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{className:"method",children:this.props.data.method}),Object(u.jsx)("span",{className:"url",children:this.props.data.url})]}),Object(u.jsx)("p",{className:"reqBody",children:this.props.data.body?JSON.stringify(this.props.data.body):null}),Object(u.jsx)("span",{className:"response",children:this.props.data.response?JSON.stringify(this.props.data.response):null}),this.props.children]},this.props.k1)}}]),n}(a.a.Component)),q=(n(46),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={url:"",method:"",response:{}},s.setInfoHistory=s.setInfoHistory.bind(Object(h.a)(s)),s.handleCkick=s.handleCkick.bind(Object(h.a)(s)),s}return Object(o.a)(n,[{key:"handleCkick",value:function(e){var t=e.target.parentElement.childNodes;"a"===e.target.localName?t=e.target.parentElement.parentElement.childNodes[0].childNodes:"li"===e.target.localName?t=e.target.childNodes[0].childNodes:"p"===e.target.localName&&(t=t[0].childNodes);var n,s={url:"",method:""},a=Object(C.a)(t);try{for(a.s();!(n=a.n()).done;){var r=n.value;s[r.className]=r.textContent}}catch(i){a.e(i)}finally{a.f()}"a"===e.target.localName&&("POST"!==s.method&&"PUT"!==s.method||(s.reqBody=JSON.parse(e.target.parentElement.parentElement.childNodes[1].textContent),console.log(s.reqBody)),this.props.setter(s)),s.response||(s.response=JSON.stringify(JSON.parse(localStorage.getItem("headers")).find((function(e){return e.method===s.method&&e.url===s.url})).response)),this.setState(Object(w.a)(Object(w.a)({},s),{},{response:JSON.parse(s.response)}))}},{key:"setInfoHistory",value:function(e){this.setState(e)}},{key:"listItems",value:function(e){var t=this;return e.map((function(e,n){return Object(u.jsx)(I,{handleCkick:t.handleCkick,data:e,k1:n,children:Object(u.jsxs)("button",{onClick:t.reRun,children:[" ",Object(u.jsx)(j.b,{to:"/",children:"Re-run Request"})]})},n)}))}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("headers"));return e?Object(u.jsxs)("div",{className:"historyPage",children:[Object(u.jsx)("ul",{children:this.listItems(e)}),Object(u.jsx)(v,{data:this.state})]}):Object(u.jsxs)("div",{className:"historyPage",children:[Object(u.jsx)("ul",{children:Object(u.jsx)("li",{children:"No history"})}),Object(u.jsx)(v,{data:this.state})]})}}]),n}(a.a.Component)),B=n(6),P=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"You need help"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"On home page you can enter a URL or and API endpoint and select the request method you want. IF there is any information that have to go in the body add it in the body. Then click on go to see the results in the result area"}),Object(u.jsx)("li",{children:"Your previous requests will be saved and rendered each time you visit the website. You can click on any of them so you can fill the form automatically"}),Object(u.jsx)("li",{children:"You can go to the history page where you can click on one of your previous requests and see the results shown in the result section without hitting the api."}),Object(u.jsx)("li",{children:"You can click on re-run which will redirect you to the main page where you can re-run your previous requests again"})]})]})}}]),n}(a.a.Component),L=(n(47),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(c.a)(this,n),(s=t.call(this,e)).state={method:"",url:"",result:{},loading:!0,reqBody:null,response:{}},s.setReqBody=s.setReqBody.bind(Object(h.a)(s)),s.setStates=s.setStates.bind(Object(h.a)(s)),s}return Object(o.a)(n,[{key:"setReqBody",value:function(e){this.setState(e)}},{key:"setStates",value:function(e){this.setState(e)}},{key:"render",value:function(){return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)(B.c,{children:[Object(u.jsx)(B.a,{exact:!0,path:"/",children:Object(u.jsx)(E,{redirectStates:this.state,setReqBody:this.setReqBody})}),Object(u.jsx)(B.a,{path:"/history",children:Object(u.jsx)(q,{setter:this.setStates})}),Object(u.jsx)(B.a,{path:"/help",children:Object(u.jsx)(P,{})})]}),Object(u.jsx)(p,{})]})}}]),n}(a.a.Component));n(48);i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j.a,{children:Object(u.jsx)(L,{})})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.8ec7dad1.chunk.js.map